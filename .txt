commit b565c60f73375dbaf36e8bd0371cf57515898129
tree f65978f29de615ad0f0ecd1e5847639e620cecb4
parent 510cb69b0e9a7bea345848d534d3646070812d10
author Konrad Krol <konradkrol110@gmail.com> 1676756149 +0100
committer Konrad Krol <konradkrol110@gmail.com> 1676756149 +0100

    Revert "Revert "Wczytywanie zawodników z pliku. Dodawanie podstawowych informacji o skoczku do okna edycji bazy danych (jeszcze bez edytowania atrybutów skoczka)""
    
    This reverts commit 510cb69b0e9a7bea345848d534d3646070812d10.

diff --git a/UI/DatabaseEditor/DatabaseEditorWindow.cpp b/UI/DatabaseEditor/DatabaseEditorWindow.cpp
new file mode 100644
index 0000000..4b172f3
--- /dev/null
+++ b/UI/DatabaseEditor/DatabaseEditorWindow.cpp
@@ -0,0 +1,73 @@
+#include "DatabaseEditorWindow.h"
+#include "ui_DatabaseEditorWindow.h"
+
+#include "../../global/GlobalDatabase.h"
+
+#include "DatabaseListItemWidget.h"
+
+#include <QFont>
+#include <QScrollArea>
+
+DatabaseEditorWindow::DatabaseEditorWindow(QWidget *parent) :
+    QDialog(parent),
+    ui(new Ui::DatabaseEditorWindow)
+{
+    ui->setupUi(this);
+    setWindowFlags(Qt::Window);
+
+    if(GlobalDatabase::get()->getGlobalJumpers().size() > 0)
+        fillJumpersWidget();
+}
+
+DatabaseEditorWindow::~DatabaseEditorWindow()
+{
+    delete ui;
+}
+
+void DatabaseEditorWindow::when_ItemWidgetDeleteButtonClicked(int index)
+{
+    GlobalDatabase::get()->removeJumper(index);
+    fillJumpersWidget();
+}
+
+void DatabaseEditorWindow::fillJumpersWidget()
+{
+    if(ui->verticalLayout_jumpers != NULL){
+        QLayoutItem * item;
+        while((item = ui->verticalLayout_jumpers->takeAt(0)) != NULL)
+        {
+            delete item->widget();
+            delete item;
+        }
+    }
+    int i=0;
+    for(const auto & jumper : GlobalDatabase::get()->getGlobalJumpers())
+    {
+        DatabaseListItemWidget * itemWidget = new DatabaseListItemWidget;
+        itemWidget->setIndex(i);
+        itemWidget->setEditorParent(this);
+
+        QLabel * label = new QLabel(QString::number(itemWidget->getIndex()));
+        QFont font = label->font();
+        font.setFamily("Ubuntu Light");
+        font.setPointSize(13);
+        label->setFont(font);
+        label->setStyleSheet("QLabel{color: #000000; margin-right: 11px;}");
+        itemWidget->addLabel(label, 0);
+
+        label = new QLabel(jumper.getNameAndSurname());
+        font.setFamily("Ubuntu Light");
+        font.setPointSize(10);
+        label->setFont(font);
+        label->setStyleSheet("QLabel{color: #452020; margin-right: 5px;}");
+        itemWidget->addLabel(label, 1);
+
+        label = new QLabel(jumper.getCountryCode());
+        itemWidget->addLabel(label, 2);
+
+        ui->verticalLayout_jumpers->addWidget(itemWidget);
+        itemWidget->update();
+        i++;
+    }
+    ui->verticalLayout_jumpers->addSpacerItem(new QSpacerItem(10, 10, QSizePolicy::Ignored, QSizePolicy::Expanding));
+}
diff --git a/UI/DatabaseEditor/DatabaseEditorWindow.h b/UI/DatabaseEditor/DatabaseEditorWindow.h
new file mode 100644
index 0000000..74e43fa
--- /dev/null
+++ b/UI/DatabaseEditor/DatabaseEditorWindow.h
@@ -0,0 +1,26 @@
+#ifndef DATABASEEDITORWINDOW_H
+#define DATABASEEDITORWINDOW_H
+
+#include <QDialog>
+
+namespace Ui {
+class DatabaseEditorWindow;
+}
+
+class DatabaseEditorWindow : public QDialog
+{
+    Q_OBJECT
+
+public:
+    explicit DatabaseEditorWindow(QWidget *parent = nullptr);
+    ~DatabaseEditorWindow();
+
+    void when_ItemWidgetDeleteButtonClicked(int index);
+
+private:
+    Ui::DatabaseEditorWindow *ui;
+
+    void fillJumpersWidget();
+};
+
+#endif // DATABASEEDITORWINDOW_H
diff --git a/UI/DatabaseEditor/DatabaseEditorWindow.ui b/UI/DatabaseEditor/DatabaseEditorWindow.ui
new file mode 100644
index 0000000..60bfef7
--- /dev/null
+++ b/UI/DatabaseEditor/DatabaseEditorWindow.ui
@@ -0,0 +1,175 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ui version="4.0">
+ <class>DatabaseEditorWindow</class>
+ <widget class="QDialog" name="DatabaseEditorWindow">
+  <property name="geometry">
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>1108</width>
+    <height>670</height>
+   </rect>
+  </property>
+  <property name="windowTitle">
+   <string>Edytor bazy danych</string>
+  </property>
+  <property name="styleSheet">
+   <string notr="true">background-color: rgb(255, 255, 255);</string>
+  </property>
+  <layout class="QVBoxLayout" name="verticalLayout">
+   <item>
+    <spacer name="verticalSpacer_titleTop">
+     <property name="orientation">
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType">
+      <enum>QSizePolicy::Maximum</enum>
+     </property>
+     <property name="sizeHint" stdset="0">
+      <size>
+       <width>20</width>
+       <height>5</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <layout class="QHBoxLayout" name="horizontalLayout_title">
+     <item>
+      <spacer name="horizontalSpacer_titleLeft">
+       <property name="orientation">
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" stdset="0">
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+     <item>
+      <widget class="QLabel" name="label_title">
+       <property name="font">
+        <font>
+         <family>Quicksand Medium</family>
+         <pointsize>22</pointsize>
+         <bold>false</bold>
+        </font>
+       </property>
+       <property name="styleSheet">
+        <string notr="true">QLabel{
+color: rgb(26, 95, 180);
+}</string>
+       </property>
+       <property name="text">
+        <string>Edytor bazy danych</string>
+       </property>
+      </widget>
+     </item>
+     <item>
+      <spacer name="horizontalSpacer_titleRight">
+       <property name="orientation">
+        <enum>Qt::Horizontal</enum>
+       </property>
+       <property name="sizeHint" stdset="0">
+        <size>
+         <width>40</width>
+         <height>20</height>
+        </size>
+       </property>
+      </spacer>
+     </item>
+    </layout>
+   </item>
+   <item>
+    <spacer name="verticalSpacer_titleBottom">
+     <property name="orientation">
+      <enum>Qt::Vertical</enum>
+     </property>
+     <property name="sizeType">
+      <enum>QSizePolicy::Maximum</enum>
+     </property>
+     <property name="sizeHint" stdset="0">
+      <size>
+       <width>20</width>
+       <height>8</height>
+      </size>
+     </property>
+    </spacer>
+   </item>
+   <item>
+    <widget class="QTabWidget" name="tabWidget_main">
+     <property name="font">
+      <font>
+       <family>Ubuntu Light</family>
+       <pointsize>11</pointsize>
+       <italic>false</italic>
+       <bold>false</bold>
+      </font>
+     </property>
+     <property name="layoutDirection">
+      <enum>Qt::LeftToRight</enum>
+     </property>
+     <property name="styleSheet">
+      <string notr="true">QTabWidget::pane{
+border: 2px solid;
+}
+QTabWidget::tab-bar{
+left: 450px;
+}
+QTabBar::tab{
+	min-width: 100px;
+	min-height: 35px;
+	background-color: rgb(185, 185, 185);
+color: black;
+	border: 2px solid rgb(110, 110, 110);
+    border-top-left-radius: 4px;
+    border-top-right-radius: 4px;
+}
+QTabBar::tab:hover{
+	background-color: rgb(215, 215, 215);
+	border-color: rgb(127, 127, 127);
+}
+QTabBar::tab:selected{
+	background-color: rgb(250, 250, 250);
+	border-color: rgb(142, 142, 142);
+}</string>
+     </property>
+     <property name="currentIndex">
+      <number>0</number>
+     </property>
+     <property name="elideMode">
+      <enum>Qt::ElideNone</enum>
+     </property>
+     <property name="usesScrollButtons">
+      <bool>true</bool>
+     </property>
+     <widget class="QWidget" name="tab_jumpers">
+      <attribute name="title">
+       <string>Zawodnicy</string>
+      </attribute>
+      <widget class="QWidget" name="verticalLayoutWidget">
+       <property name="geometry">
+        <rect>
+         <x>30</x>
+         <y>30</y>
+         <width>311</width>
+         <height>481</height>
+        </rect>
+       </property>
+       <layout class="QVBoxLayout" name="verticalLayout_jumpers"/>
+      </widget>
+     </widget>
+     <widget class="QWidget" name="tab_hills">
+      <attribute name="title">
+       <string>Skocznie </string>
+      </attribute>
+     </widget>
+    </widget>
+   </item>
+  </layout>
+ </widget>
+ <resources/>
+ <connections/>
+</ui>
diff --git a/UI/DatabaseEditor/DatabaseListItemWidget.cpp b/UI/DatabaseEditor/DatabaseListItemWidget.cpp
new file mode 100644
index 0000000..e7e0171
--- /dev/null
+++ b/UI/DatabaseEditor/DatabaseListItemWidget.cpp
@@ -0,0 +1,85 @@
+#include "DatabaseListItemWidget.h"
+#include "ui_DatabaseListItemWidget.h"
+
+#include <QPushButton>
+#include "DatabaseEditorWindow.h"
+#include <QIcon>
+
+DatabaseListItemWidget::DatabaseListItemWidget(QWidget *parent) :
+    QWidget(parent),
+    ui(new Ui::DatabaseListItemWidget)
+{
+    ui->setupUi(this);
+}
+
+DatabaseListItemWidget::~DatabaseListItemWidget()
+{
+    delete ui;
+}
+
+QVector<QLabel *> DatabaseListItemWidget::getLabels() const
+{
+    return labels;
+}
+
+void DatabaseListItemWidget::addLabel(QLabel *label, int index)
+{
+    labels.insert(index, label);
+}
+
+void DatabaseListItemWidget::update()
+{
+    for(int i=0; i<labels.size(); i++)
+    {
+        delete ui->horizontalLayout->itemAt(i);
+    }
+    for(const auto & label : labels)
+    {
+        ui->horizontalLayout->addWidget(label);
+    }
+    ui->horizontalLayout->addSpacerItem(new QSpacerItem(5, 5, QSizePolicy::Maximum, QSizePolicy::Maximum));
+
+    QPushButton * buttonEdit = new QPushButton;
+    buttonEdit->setFlat(true);
+    buttonEdit->setFixedSize(20, 20);
+    buttonEdit->setIcon(QIcon(":/img/pencil.png"));
+    buttonEdit->setIconSize(QSize(20, 20));
+    ui->horizontalLayout->addWidget(buttonEdit);
+    QPushButton * buttonDelete = new QPushButton;
+    buttonDelete->setFlat(true);
+    buttonDelete->setFixedSize(20, 20);
+    buttonDelete->setIcon(QIcon(":/img/delete.png"));
+    buttonDelete->setIconSize(QSize(20, 20));
+    ui->horizontalLayout->addWidget(buttonDelete);
+
+    connect(buttonDelete, &QPushButton::clicked, this, [this](){
+        dynamic_cast<DatabaseEditorWindow *>(editorParent)->when_ItemWidgetDeleteButtonClicked(this->getIndex());
+    });
+
+
+   ui->horizontalLayout->addSpacerItem(new QSpacerItem(20, 40, QSizePolicy::Expanding, QSizePolicy::Expanding));
+}
+
+// parent zamiast wskazywać na DatabaseEditorWindow, wskazuje na jakiś layout
+
+int DatabaseListItemWidget::getIndex() const
+{
+    return index;
+}
+
+void DatabaseListItemWidget::setIndex(int newIndex)
+{
+    index = newIndex;
+}
+
+DatabaseEditorWindow *DatabaseListItemWidget::getEditorParent() const
+{
+    return editorParent;
+}
+
+void DatabaseListItemWidget::setEditorParent(DatabaseEditorWindow *newEditorParent)
+{
+    editorParent = newEditorParent;
+}
+
+// PROBLEM: Nie wiem jak podłączyć przycisk usuwania do slotu tak, żeby DatabaseEditorWindow wiedział który widget i którego skoczka z globalnej bazy danych ma usunąć. (W skrócie, potrzebuje indexu usuwanego skoczka.
diff --git a/UI/DatabaseEditor/DatabaseListItemWidget.h b/UI/DatabaseEditor/DatabaseListItemWidget.h
new file mode 100644
index 0000000..b3bb11d
--- /dev/null
+++ b/UI/DatabaseEditor/DatabaseListItemWidget.h
@@ -0,0 +1,41 @@
+#ifndef DATABASELISTITEMWIDGET_H
+#define DATABASELISTITEMWIDGET_H
+
+#include <QWidget>
+#include <QVector>
+#include <QLabel>
+
+#include "DatabaseEditorWindow.h"
+
+namespace Ui {
+class DatabaseListItemWidget;
+}
+
+class DatabaseListItemWidget : public QWidget
+{
+    Q_OBJECT
+
+public:
+    explicit DatabaseListItemWidget(QWidget *parent = nullptr);
+    ~DatabaseListItemWidget();
+
+    QVector<QLabel *> getLabels() const;
+    void addLabel(QLabel * label, int index = 0);
+    void update();
+
+    int getIndex() const;
+    void setIndex(int newIndex);
+
+    DatabaseEditorWindow *getEditorParent() const;
+    void setEditorParent(DatabaseEditorWindow *newEditorParent);
+
+private:
+    Ui::DatabaseListItemWidget *ui;
+    QVector<QLabel *> labels;
+
+    int index;
+
+    DatabaseEditorWindow * editorParent;
+};
+
+#endif // DATABASELISTITEMWIDGET_H
diff --git a/UI/DatabaseEditor/DatabaseListItemWidget.ui b/UI/DatabaseEditor/DatabaseListItemWidget.ui
new file mode 100644
index 0000000..5fc200d
--- /dev/null
+++ b/UI/DatabaseEditor/DatabaseListItemWidget.ui
@@ -0,0 +1,26 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ui version="4.0">
+ <class>DatabaseListItemWidget</class>
+ <widget class="QWidget" name="DatabaseListItemWidget">
+  <property name="geometry">
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>520</width>
+    <height>36</height>
+   </rect>
+  </property>
+  <property name="maximumSize">
+   <size>
+    <width>16777215</width>
+    <height>41</height>
+   </size>
+  </property>
+  <property name="windowTitle">
+   <string>Form</string>
+  </property>
+  <layout class="QHBoxLayout" name="horizontalLayout"/>
+ </widget>
+ <resources/>
+ <connections/>
+</ui>
diff --git a/UI/SingleJumps/SingleJumpsConfigWindow.cpp b/UI/SingleJumps/SingleJumpsConfigWindow.cpp
new file mode 100644
index 0000000..2394eed
--- /dev/null
+++ b/UI/SingleJumps/SingleJumpsConfigWindow.cpp
@@ -0,0 +1,14 @@
+#include "SingleJumpsConfigWindow.h"
+#include "ui_SingleJumpsConfigWindow.h"
+
+SingleJumpsConfigWindow::SingleJumpsConfigWindow(QWidget *parent) :
+    QDialog(parent),
+    ui(new Ui::SingleJumpsConfigWindow)
+{
+    ui->setupUi(this);
+}
+
+SingleJumpsConfigWindow::~SingleJumpsConfigWindow()
+{
+    delete ui;
+}
diff --git a/UI/SingleJumps/SingleJumpsConfigWindow.h b/UI/SingleJumps/SingleJumpsConfigWindow.h
new file mode 100644
index 0000000..387e962
--- /dev/null
+++ b/UI/SingleJumps/SingleJumpsConfigWindow.h
@@ -0,0 +1,22 @@
+#ifndef SINGLEJUMPSCONFIGWINDOW_H
+#define SINGLEJUMPSCONFIGWINDOW_H
+
+#include <QDialog>
+
+namespace Ui {
+class SingleJumpsConfigWindow;
+}
+
+class SingleJumpsConfigWindow : public QDialog
+{
+    Q_OBJECT
+
+public:
+    explicit SingleJumpsConfigWindow(QWidget *parent = nullptr);
+    ~SingleJumpsConfigWindow();
+
+private:
+    Ui::SingleJumpsConfigWindow *ui;
+};
+
+#endif // SINGLEJUMPSCONFIGWINDOW_H
diff --git a/UI/SingleJumps/SingleJumpsConfigWindow.ui b/UI/SingleJumps/SingleJumpsConfigWindow.ui
new file mode 100644
index 0000000..cfa7d8f
--- /dev/null
+++ b/UI/SingleJumps/SingleJumpsConfigWindow.ui
@@ -0,0 +1,236 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ui version="4.0">
+ <class>SingleJumpsConfigWindow</class>
+ <widget class="QDialog" name="SingleJumpsConfigWindow">
+  <property name="geometry">
+   <rect>
+    <x>0</x>
+    <y>0</y>
+    <width>753</width>
+    <height>701</height>
+   </rect>
+  </property>
+  <property name="windowTitle">
+   <string>Dialog</string>
+  </property>
+  <widget class="QLabel" name="label_8">
+   <property name="geometry">
+    <rect>
+     <x>190</x>
+     <y>10</y>
+     <width>401</width>
+     <height>61</height>
+    </rect>
+   </property>
+   <property name="font">
+    <font>
+     <family>Quicksand Medium</family>
+     <pointsize>20</pointsize>
+    </font>
+   </property>
+   <property name="styleSheet">
+    <string notr="true">QLabel{
+	color: rgb(0, 179, 50);
+}</string>
+   </property>
+   <property name="text">
+    <string>Pojedyńcze skoki (ustawienia)</string>
+   </property>
+  </widget>
+  <widget class="QWidget" name="">
+   <property name="geometry">
+    <rect>
+     <x>10</x>
+     <y>100</y>
+     <width>261</width>
+     <height>311</height>
+    </rect>
+   </property>
+   <layout class="QVBoxLayout" name="verticalLayout_3">
+    <item>
+     <layout class="QVBoxLayout" name="verticalLayout">
+      <item>
+       <widget class="QLabel" name="label">
+        <property name="font">
+         <font>
+          <pointsize>12</pointsize>
+          <bold>true</bold>
+         </font>
+        </property>
+        <property name="text">
+         <string>Skocznia:</string>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <widget class="QComboBox" name="comboBox"/>
+      </item>
+     </layout>
+    </item>
+    <item>
+     <layout class="QHBoxLayout" name="horizontalLayout">
+      <item>
+       <layout class="QFormLayout" name="formLayout">
+        <item row="0" column="0">
+         <widget class="QLabel" name="label_KPoint">
+          <property name="text">
+           <string>Punkt K: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="1" column="0">
+         <widget class="QLabel" name="label_HSPoint">
+          <property name="text">
+           <string>Punkt HS: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="2" column="0">
+         <widget class="QLabel" name="label_record">
+          <property name="text">
+           <string>Rekord: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="3" column="0">
+         <widget class="QLabel" name="label_meterPoints">
+          <property name="text">
+           <string>Punkty za metr: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="4" column="0">
+         <widget class="QLabel" name="label_gatePoints">
+          <property name="text">
+           <string>Punkty za belkę: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="5" column="0">
+         <widget class="QLabel" name="label_frontWindPoints">
+          <property name="text">
+           <string>Punkty za wiatr przedni: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="6" column="0">
+         <widget class="QLabel" name="label_backWindPoints">
+          <property name="text">
+           <string>Punkty za wiatr tylni: </string>
+          </property>
+         </widget>
+        </item>
+        <item row="7" column="0">
+         <widget class="QLabel" name="label_takeoffEffect">
+          <property name="text">
+           <string>Wpływ wybicia (symulacja): </string>
+          </property>
+         </widget>
+        </item>
+        <item row="8" column="0">
+         <widget class="QLabel" name="label_flightEffect">
+          <property name="text">
+           <string>Wpływ lotu (symulacja): </string>
+          </property>
+         </widget>
+        </item>
+        <item row="0" column="1">
+         <widget class="QSpinBox" name="spinBox_KPoint">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+         </widget>
+        </item>
+        <item row="1" column="1">
+         <widget class="QSpinBox" name="spinBox_HSPoint">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+         </widget>
+        </item>
+        <item row="2" column="1">
+         <widget class="QLabel" name="label_record_2">
+          <property name="text">
+           <string>0.0 m</string>
+          </property>
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+         </widget>
+        </item>
+        <item row="3" column="1">
+         <widget class="QDoubleSpinBox" name="doubleSpinBox">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+          <property name="maximum">
+           <double>1000.000000000000000</double>
+          </property>
+         </widget>
+        </item>
+        <item row="4" column="1">
+         <widget class="QDoubleSpinBox" name="doubleSpinBox_2">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+          <property name="maximum">
+           <double>1000.000000000000000</double>
+          </property>
+         </widget>
+        </item>
+        <item row="5" column="1">
+         <widget class="QDoubleSpinBox" name="doubleSpinBox_3">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+          <property name="maximum">
+           <double>10000.000000000000000</double>
+          </property>
+         </widget>
+        </item>
+        <item row="6" column="1">
+         <widget class="QDoubleSpinBox" name="doubleSpinBox_4">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+          <property name="maximum">
+           <double>10000.000000000000000</double>
+          </property>
+         </widget>
+        </item>
+        <item row="7" column="1">
+         <widget class="QDoubleSpinBox" name="doubleSpinBox_takeoffEffect">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+          <property name="decimals">
+           <number>4</number>
+          </property>
+          <property name="singleStep">
+           <double>0.100000000000000</double>
+          </property>
+         </widget>
+        </item>
+        <item row="8" column="1">
+         <widget class="QDoubleSpinBox" name="doubleSpinBox_flightEffect">
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+          <property name="decimals">
+           <number>4</number>
+          </property>
+          <property name="singleStep">
+           <double>0.100000000000000</double>
+          </property>
+         </widget>
+        </item>
+       </layout>
+      </item>
+     </layout>
+    </item>
+   </layout>
+  </widget>
+ </widget>
+ <resources/>
+ <connections/>
+</ui>
diff --git a/UI/mainwindow.cpp b/UI/mainwindow.cpp
index 10e81cc..7767ddc 100644
--- a/UI/mainwindow.cpp
+++ b/UI/mainwindow.cpp
@@ -4,6 +4,7 @@
 #include "../utilities/IDGenerator.h"
 #include "../utilities/functions.h"
 #include "../utilities/MyRandom.h"
+
 #include "../simulator/Jumper.h"
 #include "../simulator/JumperSkills.h"
 #include "../simulator/ConditionsInfo.h"
@@ -13,6 +14,11 @@
 #include "../simulator/wind-generation/WindsGenerator.h"
 #include "../simulator/wind-generation/WindGenerationSettings.h"
 
+#include "../global/GlobalDatabase.h"
+
+#include "UI/SingleJumps/SingleJumpsConfigWindow.h"
+#include "UI/DatabaseEditor/DatabaseEditorWindow.h"
+
 #include <QDebug>
 #include <QVector>
 
@@ -24,7 +30,11 @@ MainWindow::MainWindow(QWidget *parent)
 {
     ui->setupUi(this);
 
-    Hill * hill = new Hill("Wisła", "POL", 120, 134, 10.8, 7.24, 0.35, 0.375);
+    if(GlobalDatabase::get()->loadFromJson() == false)
+        exit(0);
+
+
+    /*Hill * hill = new Hill("Wisła", "POL", 120, 134, 10.8, 7.24, 0.35, 0.375);
     hill->insertCharacteristic("real-hs-point", -1);
     hill->insertCharacteristic("takeoff-power-effect", 1);
     hill->insertCharacteristic("takeoff-technique-effect", -1);
@@ -32,7 +42,7 @@ MainWindow::MainWindow(QWidget *parent)
     hill->insertCharacteristic("takeoff-form-effect", 0);
     hill->insertCharacteristic("flight-technique-effect", 0);
     hill->insertCharacteristic("flight-randomness-effect", 0);
-    hill->insertCharacteristic("flight-form-effect", 0);
+    hill->insertCharacteristic("flight-form-effect", 0);*/
 
     /*Hill * hill = new Hill("Planica", "SLO", 200, 240, 14.40, 8.64, 0.185, 0.965);
     hill->insertCharacteristic("real-hs-point", -1.5);
@@ -53,7 +63,7 @@ MainWindow::MainWindow(QWidget *parent)
     hill->insertCharacteristic("flight-randomness-effect", 0);
     hill->insertCharacteristic("flight-form-effect", 0);*/
 
-    hill->setupPointsForMeter();
+    /*hill->setupPointsForMeter();
     JumpSimulator simulator;
     simulator.getConditionsInfo().setGate(15);
     simulator.setHill(hill);
@@ -113,7 +123,7 @@ MainWindow::MainWindow(QWidget *parent)
         qDebug()<<"Punkty łącznie: "<<jump.getPoints()<<"\n\n";
     }
 
-    delete hill;
+    delete hill;*/
 }
 
 MainWindow::~MainWindow()
@@ -121,3 +131,20 @@ MainWindow::~MainWindow()
     delete ui;
 }
 
+
+void MainWindow::on_pushButton_singleJumps_clicked()
+{
+
+}
+
+
+void MainWindow::on_pushButton_databaseEdit_clicked()
+{
+    DatabaseEditorWindow databaseEditor;
+    databaseEditor.setModal(true);
+    if(databaseEditor.exec() == QDialog::Accepted)
+    {
+        qDebug()<<"accepted";
+    }
+}
+
diff --git a/UI/mainwindow.h b/UI/mainwindow.h
index 4643e32..8b5b9e3 100644
--- a/UI/mainwindow.h
+++ b/UI/mainwindow.h
@@ -15,6 +15,11 @@ public:
     MainWindow(QWidget *parent = nullptr);
     ~MainWindow();
 
+private slots:
+    void on_pushButton_singleJumps_clicked();
+
+    void on_pushButton_databaseEdit_clicked();
+
 private:
     Ui::MainWindow *ui;
 };
diff --git a/UI/mainwindow.ui b/UI/mainwindow.ui
index 6374821..cc6b702 100644
--- a/UI/mainwindow.ui
+++ b/UI/mainwindow.ui
@@ -6,14 +6,14 @@
    <rect>
     <x>0</x>
     <y>0</y>
-    <width>815</width>
+    <width>840</width>
     <height>625</height>
    </rect>
   </property>
   <property name="maximumSize">
    <size>
-    <width>815</width>
-    <height>625</height>
+    <width>840</width>
+    <height>630</height>
    </size>
   </property>
   <property name="windowTitle">
@@ -26,265 +26,357 @@
    <string notr="true">background-color: rgb(250, 250, 250);</string>
   </property>
   <widget class="QWidget" name="centralwidget">
-   <layout class="QHBoxLayout" name="horizontalLayout_7">
+   <layout class="QHBoxLayout" name="horizontalLayout_11">
+    <item>
+     <spacer name="horizontalSpacer">
+      <property name="orientation">
+       <enum>Qt::Horizontal</enum>
+      </property>
+      <property name="sizeType">
+       <enum>QSizePolicy::Maximum</enum>
+      </property>
+      <property name="sizeHint" stdset="0">
+       <size>
+        <width>105</width>
+        <height>20</height>
+       </size>
+      </property>
+     </spacer>
+    </item>
     <item>
-     <layout class="QHBoxLayout" name="horizontalLayout_6">
+     <layout class="QVBoxLayout" name="verticalLayout_3">
       <item>
-       <spacer name="horizontalSpacer">
+       <spacer name="verticalSpacer_8">
         <property name="orientation">
-         <enum>Qt::Horizontal</enum>
+         <enum>Qt::Vertical</enum>
         </property>
         <property name="sizeType">
-         <enum>QSizePolicy::Expanding</enum>
+         <enum>QSizePolicy::Maximum</enum>
         </property>
         <property name="sizeHint" stdset="0">
          <size>
-          <width>70</width>
+          <width>20</width>
           <height>20</height>
          </size>
         </property>
        </spacer>
       </item>
       <item>
-       <layout class="QVBoxLayout" name="verticalLayout_3">
+       <layout class="QHBoxLayout" name="horizontalLayout_titleAndVersion">
         <item>
-         <layout class="QHBoxLayout" name="horizontalLayout_titleAndVersion">
-          <item>
-           <widget class="QLabel" name="label_title">
-            <property name="enabled">
-             <bool>true</bool>
-            </property>
-            <property name="font">
-             <font>
-              <family>Quicksand Medium</family>
-              <pointsize>31</pointsize>
-             </font>
-            </property>
-            <property name="styleSheet">
-             <string notr="true">QLabel{
+         <widget class="QLabel" name="label_title">
+          <property name="enabled">
+           <bool>true</bool>
+          </property>
+          <property name="font">
+           <font>
+            <family>Quicksand Medium</family>
+            <pointsize>31</pointsize>
+           </font>
+          </property>
+          <property name="styleSheet">
+           <string notr="true">QLabel{
 color: rgb(0, 0, 0)
 }</string>
-            </property>
-            <property name="text">
-             <string>Ski Jumping Simulator</string>
-            </property>
-            <property name="alignment">
-             <set>Qt::AlignCenter</set>
-            </property>
-           </widget>
-          </item>
-         </layout>
+          </property>
+          <property name="text">
+           <string>Ski Jumping Simulator</string>
+          </property>
+          <property name="alignment">
+           <set>Qt::AlignCenter</set>
+          </property>
+         </widget>
         </item>
+       </layout>
+      </item>
+      <item>
+       <layout class="QVBoxLayout" name="verticalLayout_butons">
         <item>
-         <layout class="QVBoxLayout" name="verticalLayout_butons">
+         <layout class="QHBoxLayout" name="horizontalLayout_topButtons">
           <item>
-           <layout class="QHBoxLayout" name="horizontalLayout_topButtons">
+           <layout class="QVBoxLayout" name="verticalLayout_4">
             <item>
-             <widget class="QPushButton" name="pushButton_singleJumps">
-              <property name="minimumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
-              </property>
-              <property name="maximumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
-              </property>
-              <property name="text">
-               <string/>
+             <spacer name="verticalSpacer_5">
+              <property name="orientation">
+               <enum>Qt::Vertical</enum>
               </property>
-              <property name="icon">
-               <iconset resource="../assets.qrc">
-                <normaloff>:/img/ski-jumper.png</normaloff>:/img/ski-jumper.png</iconset>
+              <property name="sizeType">
+               <enum>QSizePolicy::Expanding</enum>
               </property>
-              <property name="iconSize">
+              <property name="sizeHint" stdset="0">
                <size>
-                <width>120</width>
-                <height>120</height>
+                <width>20</width>
+                <height>40</height>
                </size>
               </property>
-              <property name="flat">
-               <bool>true</bool>
-              </property>
-             </widget>
+             </spacer>
+            </item>
+            <item>
+             <layout class="QHBoxLayout" name="horizontalLayout_9">
+              <item>
+               <widget class="QPushButton" name="pushButton_singleJumps">
+                <property name="minimumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="maximumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="text">
+                 <string/>
+                </property>
+                <property name="icon">
+                 <iconset resource="../assets.qrc">
+                  <normaloff>:/img/ski-jumper.png</normaloff>:/img/ski-jumper.png</iconset>
+                </property>
+                <property name="iconSize">
+                 <size>
+                  <width>120</width>
+                  <height>120</height>
+                 </size>
+                </property>
+                <property name="flat">
+                 <bool>true</bool>
+                </property>
+               </widget>
+              </item>
+             </layout>
             </item>
             <item>
-             <spacer name="horizontalSpacer_3">
+             <spacer name="verticalSpacer_2">
               <property name="orientation">
-               <enum>Qt::Horizontal</enum>
+               <enum>Qt::Vertical</enum>
               </property>
               <property name="sizeType">
-               <enum>QSizePolicy::Expanding</enum>
+               <enum>QSizePolicy::Maximum</enum>
               </property>
               <property name="sizeHint" stdset="0">
                <size>
-                <width>40</width>
-                <height>20</height>
+                <width>20</width>
+                <height>28</height>
                </size>
               </property>
              </spacer>
             </item>
             <item>
-             <widget class="QPushButton" name="pushButton_season">
-              <property name="minimumSize">
-               <size>
-                <width>180</width>
-                <height>180</height>
-               </size>
-              </property>
-              <property name="maximumSize">
-               <size>
-                <width>180</width>
-                <height>180</height>
-               </size>
+             <widget class="QLabel" name="label_singleJump">
+              <property name="font">
+               <font>
+                <family>Quicksand</family>
+                <pointsize>14</pointsize>
+                <bold>true</bold>
+               </font>
+              </property>
+              <property name="styleSheet">
+               <string notr="true">QLabel{
+color: rgb(32, 120, 252);
+}</string>
               </property>
               <property name="text">
-               <string/>
-              </property>
-              <property name="icon">
-               <iconset resource="../assets.qrc">
-                <normaloff>:/img/Crystal_Globe.svg.png</normaloff>:/img/Crystal_Globe.svg.png</iconset>
-              </property>
-              <property name="iconSize">
-               <size>
-                <width>165</width>
-                <height>165</height>
-               </size>
+               <string>Pojedyńczy skok</string>
               </property>
-              <property name="flat">
-               <bool>true</bool>
+              <property name="alignment">
+               <set>Qt::AlignCenter</set>
               </property>
              </widget>
             </item>
+           </layout>
+          </item>
+          <item>
+           <spacer name="horizontalSpacer_3">
+            <property name="orientation">
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeType">
+             <enum>QSizePolicy::Expanding</enum>
+            </property>
+            <property name="sizeHint" stdset="0">
+             <size>
+              <width>40</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+          <item>
+           <layout class="QVBoxLayout" name="verticalLayout_5">
             <item>
-             <spacer name="horizontalSpacer_4">
+             <spacer name="verticalSpacer_4">
               <property name="orientation">
-               <enum>Qt::Horizontal</enum>
+               <enum>Qt::Vertical</enum>
               </property>
               <property name="sizeHint" stdset="0">
                <size>
-                <width>40</width>
-                <height>20</height>
+                <width>20</width>
+                <height>40</height>
                </size>
               </property>
              </spacer>
             </item>
             <item>
-             <widget class="QPushButton" name="pushButton_singleCompetition">
-              <property name="minimumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
-              </property>
-              <property name="maximumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
+             <layout class="QHBoxLayout" name="horizontalLayout_10">
+              <item>
+               <widget class="QPushButton" name="pushButton_season">
+                <property name="minimumSize">
+                 <size>
+                  <width>200</width>
+                  <height>200</height>
+                 </size>
+                </property>
+                <property name="maximumSize">
+                 <size>
+                  <width>200</width>
+                  <height>200</height>
+                 </size>
+                </property>
+                <property name="text">
+                 <string/>
+                </property>
+                <property name="icon">
+                 <iconset resource="../assets.qrc">
+                  <normaloff>:/img/Crystal_Globe.svg.png</normaloff>:/img/Crystal_Globe.svg.png</iconset>
+                </property>
+                <property name="iconSize">
+                 <size>
+                  <width>165</width>
+                  <height>165</height>
+                 </size>
+                </property>
+                <property name="flat">
+                 <bool>true</bool>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <widget class="QLabel" name="label_season">
+              <property name="font">
+               <font>
+                <family>Quicksand</family>
+                <pointsize>14</pointsize>
+                <bold>true</bold>
+               </font>
+              </property>
+              <property name="styleSheet">
+               <string notr="true">QLabel{
+color: rgb(32, 120, 252);
+}</string>
               </property>
               <property name="text">
-               <string/>
-              </property>
-              <property name="icon">
-               <iconset resource="../assets.qrc">
-                <normaloff>:/img/medal.png</normaloff>:/img/medal.png</iconset>
+               <string>Rozegraj sezon</string>
               </property>
-              <property name="iconSize">
-               <size>
-                <width>120</width>
-                <height>120</height>
-               </size>
-              </property>
-              <property name="flat">
-               <bool>true</bool>
+              <property name="alignment">
+               <set>Qt::AlignCenter</set>
               </property>
              </widget>
             </item>
            </layout>
           </item>
           <item>
-           <spacer name="verticalSpacer">
+           <spacer name="horizontalSpacer_4">
             <property name="orientation">
-             <enum>Qt::Vertical</enum>
-            </property>
-            <property name="sizeType">
-             <enum>QSizePolicy::Maximum</enum>
+             <enum>Qt::Horizontal</enum>
             </property>
             <property name="sizeHint" stdset="0">
              <size>
-              <width>20</width>
+              <width>40</width>
               <height>20</height>
              </size>
             </property>
            </spacer>
           </item>
           <item>
-           <layout class="QHBoxLayout" name="horizontalLayout_downButtons">
+           <layout class="QVBoxLayout" name="verticalLayout_6">
             <item>
-             <widget class="QPushButton" name="pushButton_databaseEdit">
-              <property name="minimumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
+             <spacer name="verticalSpacer_7">
+              <property name="orientation">
+               <enum>Qt::Vertical</enum>
               </property>
-              <property name="maximumSize">
+              <property name="sizeHint" stdset="0">
                <size>
-                <width>135</width>
-                <height>135</height>
+                <width>20</width>
+                <height>40</height>
                </size>
               </property>
-              <property name="text">
-               <string/>
+             </spacer>
+            </item>
+            <item>
+             <layout class="QHBoxLayout" name="horizontalLayout_8">
+              <item>
+               <widget class="QPushButton" name="pushButton_singleCompetition">
+                <property name="minimumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="maximumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="text">
+                 <string/>
+                </property>
+                <property name="icon">
+                 <iconset resource="../assets.qrc">
+                  <normaloff>:/img/medal.png</normaloff>:/img/medal.png</iconset>
+                </property>
+                <property name="iconSize">
+                 <size>
+                  <width>120</width>
+                  <height>120</height>
+                 </size>
+                </property>
+                <property name="flat">
+                 <bool>true</bool>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <spacer name="verticalSpacer_6">
+              <property name="orientation">
+               <enum>Qt::Vertical</enum>
               </property>
-              <property name="icon">
-               <iconset resource="../assets.qrc">
-                <normaloff>:/img/database-edit.png</normaloff>:/img/database-edit.png</iconset>
+              <property name="sizeType">
+               <enum>QSizePolicy::Maximum</enum>
               </property>
-              <property name="iconSize">
+              <property name="sizeHint" stdset="0">
                <size>
-                <width>120</width>
-                <height>120</height>
+                <width>20</width>
+                <height>28</height>
                </size>
               </property>
-              <property name="flat">
-               <bool>true</bool>
-              </property>
-             </widget>
+             </spacer>
             </item>
             <item>
-             <widget class="QPushButton" name="pushButton_help">
-              <property name="minimumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
-              </property>
-              <property name="maximumSize">
-               <size>
-                <width>135</width>
-                <height>135</height>
-               </size>
+             <widget class="QLabel" name="label_singleCompetition">
+              <property name="font">
+               <font>
+                <family>Quicksand</family>
+                <pointsize>14</pointsize>
+                <bold>true</bold>
+               </font>
+              </property>
+              <property name="styleSheet">
+               <string notr="true">QLabel{
+color: rgb(32, 120, 252);
+}</string>
               </property>
               <property name="text">
-               <string/>
-              </property>
-              <property name="icon">
-               <iconset resource="../assets.qrc">
-                <normaloff>:/img/help.png</normaloff>:/img/help.png</iconset>
-              </property>
-              <property name="iconSize">
-               <size>
-                <width>120</width>
-                <height>120</height>
-               </size>
+               <string>Pojedyńczy konkurs</string>
               </property>
-              <property name="flat">
-               <bool>true</bool>
+              <property name="alignment">
+               <set>Qt::AlignCenter</set>
               </property>
              </widget>
             </item>
@@ -293,7 +385,7 @@ color: rgb(0, 0, 0)
          </layout>
         </item>
         <item>
-         <spacer name="verticalSpacer_3">
+         <spacer name="verticalSpacer">
           <property name="orientation">
            <enum>Qt::Vertical</enum>
           </property>
@@ -303,99 +395,291 @@ color: rgb(0, 0, 0)
           <property name="sizeHint" stdset="0">
            <size>
             <width>20</width>
-            <height>70</height>
+            <height>32</height>
            </size>
           </property>
          </spacer>
         </item>
+        <item>
+         <layout class="QHBoxLayout" name="horizontalLayout_downButtons">
+          <item>
+           <spacer name="horizontalSpacer_5">
+            <property name="orientation">
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeType">
+             <enum>QSizePolicy::Minimum</enum>
+            </property>
+            <property name="sizeHint" stdset="0">
+             <size>
+              <width>40</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+          <item>
+           <layout class="QVBoxLayout" name="verticalLayout_8">
+            <item>
+             <layout class="QHBoxLayout" name="horizontalLayout_6">
+              <item>
+               <widget class="QPushButton" name="pushButton_databaseEdit">
+                <property name="minimumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="maximumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="text">
+                 <string/>
+                </property>
+                <property name="icon">
+                 <iconset resource="../assets.qrc">
+                  <normaloff>:/img/database-edit.png</normaloff>:/img/database-edit.png</iconset>
+                </property>
+                <property name="iconSize">
+                 <size>
+                  <width>120</width>
+                  <height>120</height>
+                 </size>
+                </property>
+                <property name="flat">
+                 <bool>true</bool>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <widget class="QLabel" name="label_databaseEditor">
+              <property name="font">
+               <font>
+                <family>Quicksand</family>
+                <pointsize>14</pointsize>
+                <bold>true</bold>
+               </font>
+              </property>
+              <property name="styleSheet">
+               <string notr="true">QLabel{
+color: rgb(32, 120, 252);
+}</string>
+              </property>
+              <property name="text">
+               <string>Edytor bazy danych</string>
+              </property>
+              <property name="alignment">
+               <set>Qt::AlignCenter</set>
+              </property>
+             </widget>
+            </item>
+           </layout>
+          </item>
+          <item>
+           <spacer name="horizontalSpacer_7">
+            <property name="orientation">
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeType">
+             <enum>QSizePolicy::Maximum</enum>
+            </property>
+            <property name="sizeHint" stdset="0">
+             <size>
+              <width>20</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+          <item>
+           <layout class="QVBoxLayout" name="verticalLayout_9">
+            <item>
+             <layout class="QHBoxLayout" name="horizontalLayout_7">
+              <item>
+               <widget class="QPushButton" name="pushButton_help">
+                <property name="minimumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="maximumSize">
+                 <size>
+                  <width>135</width>
+                  <height>135</height>
+                 </size>
+                </property>
+                <property name="text">
+                 <string/>
+                </property>
+                <property name="icon">
+                 <iconset resource="../assets.qrc">
+                  <normaloff>:/img/help.png</normaloff>:/img/help.png</iconset>
+                </property>
+                <property name="iconSize">
+                 <size>
+                  <width>120</width>
+                  <height>120</height>
+                 </size>
+                </property>
+                <property name="flat">
+                 <bool>true</bool>
+                </property>
+               </widget>
+              </item>
+             </layout>
+            </item>
+            <item>
+             <widget class="QLabel" name="label_help">
+              <property name="font">
+               <font>
+                <family>Quicksand</family>
+                <pointsize>14</pointsize>
+                <bold>true</bold>
+               </font>
+              </property>
+              <property name="styleSheet">
+               <string notr="true">QLabel{
+color: rgb(32, 120, 252);
+}</string>
+              </property>
+              <property name="text">
+               <string>Pomoc</string>
+              </property>
+              <property name="alignment">
+               <set>Qt::AlignCenter</set>
+              </property>
+             </widget>
+            </item>
+           </layout>
+          </item>
+          <item>
+           <spacer name="horizontalSpacer_6">
+            <property name="orientation">
+             <enum>Qt::Horizontal</enum>
+            </property>
+            <property name="sizeType">
+             <enum>QSizePolicy::Minimum</enum>
+            </property>
+            <property name="sizeHint" stdset="0">
+             <size>
+              <width>40</width>
+              <height>20</height>
+             </size>
+            </property>
+           </spacer>
+          </item>
+         </layout>
+        </item>
        </layout>
       </item>
       <item>
-       <spacer name="horizontalSpacer_2">
+       <spacer name="verticalSpacer_3">
         <property name="orientation">
-         <enum>Qt::Horizontal</enum>
+         <enum>Qt::Vertical</enum>
         </property>
         <property name="sizeType">
          <enum>QSizePolicy::Maximum</enum>
         </property>
         <property name="sizeHint" stdset="0">
          <size>
-          <width>40</width>
-          <height>20</height>
+          <width>20</width>
+          <height>70</height>
          </size>
         </property>
        </spacer>
       </item>
+     </layout>
+    </item>
+    <item>
+     <spacer name="horizontalSpacer_2">
+      <property name="orientation">
+       <enum>Qt::Horizontal</enum>
+      </property>
+      <property name="sizeType">
+       <enum>QSizePolicy::Maximum</enum>
+      </property>
+      <property name="sizeHint" stdset="0">
+       <size>
+        <width>18</width>
+        <height>20</height>
+       </size>
+      </property>
+     </spacer>
+    </item>
+    <item>
+     <layout class="QVBoxLayout" name="verticalLayout_settings">
       <item>
-       <layout class="QVBoxLayout" name="verticalLayout_settings">
-        <item>
-         <widget class="QPushButton" name="pushButton_settings">
-          <property name="minimumSize">
-           <size>
-            <width>85</width>
-            <height>85</height>
-           </size>
-          </property>
-          <property name="maximumSize">
-           <size>
-            <width>85</width>
-            <height>85</height>
-           </size>
-          </property>
-          <property name="text">
-           <string/>
-          </property>
-          <property name="icon">
-           <iconset resource="../assets.qrc">
-            <normaloff>:/img/settings.png</normaloff>:/img/settings.png</iconset>
-          </property>
-          <property name="iconSize">
-           <size>
-            <width>80</width>
-            <height>80</height>
-           </size>
-          </property>
-          <property name="flat">
-           <bool>true</bool>
-          </property>
-         </widget>
-        </item>
-        <item>
-         <spacer name="verticalSpacer_settings">
-          <property name="orientation">
-           <enum>Qt::Vertical</enum>
-          </property>
-          <property name="sizeHint" stdset="0">
-           <size>
-            <width>20</width>
-            <height>40</height>
-           </size>
-          </property>
-         </spacer>
-        </item>
-        <item>
-         <widget class="QLabel" name="label">
-          <property name="font">
-           <font>
-            <family>Noto Sans</family>
-            <pointsize>11</pointsize>
-           </font>
-          </property>
-          <property name="styleSheet">
-           <string notr="true">QLabel{
+       <widget class="QPushButton" name="pushButton_settings">
+        <property name="minimumSize">
+         <size>
+          <width>85</width>
+          <height>85</height>
+         </size>
+        </property>
+        <property name="maximumSize">
+         <size>
+          <width>85</width>
+          <height>85</height>
+         </size>
+        </property>
+        <property name="text">
+         <string/>
+        </property>
+        <property name="icon">
+         <iconset resource="../assets.qrc">
+          <normaloff>:/img/settings.png</normaloff>:/img/settings.png</iconset>
+        </property>
+        <property name="iconSize">
+         <size>
+          <width>80</width>
+          <height>80</height>
+         </size>
+        </property>
+        <property name="flat">
+         <bool>true</bool>
+        </property>
+       </widget>
+      </item>
+      <item>
+       <spacer name="verticalSpacer_settings">
+        <property name="orientation">
+         <enum>Qt::Vertical</enum>
+        </property>
+        <property name="sizeHint" stdset="0">
+         <size>
+          <width>20</width>
+          <height>40</height>
+         </size>
+        </property>
+       </spacer>
+      </item>
+      <item>
+       <widget class="QLabel" name="label">
+        <property name="font">
+         <font>
+          <family>Noto Sans</family>
+          <pointsize>11</pointsize>
+         </font>
+        </property>
+        <property name="styleSheet">
+         <string notr="true">QLabel{
 	color: rgb(30, 155, 99);
 }
 </string>
-          </property>
-          <property name="text">
-           <string>0.0.1a</string>
-          </property>
-          <property name="alignment">
-           <set>Qt::AlignCenter</set>
-          </property>
-         </widget>
-        </item>
-       </layout>
+        </property>
+        <property name="text">
+         <string>0.0.1a</string>
+        </property>
+        <property name="alignment">
+         <set>Qt::AlignCenter</set>
+        </property>
+       </widget>
       </item>
      </layout>
     </item>
@@ -406,7 +690,7 @@ color: rgb(0, 0, 0)
     <rect>
      <x>0</x>
      <y>0</y>
-     <width>815</width>
+     <width>840</width>
      <height>20</height>
     </rect>
    </property>
diff --git a/assets.qrc b/assets.qrc
index 093d465..408b3e7 100644
--- a/assets.qrc
+++ b/assets.qrc
@@ -1,11 +1,13 @@
 <RCC>
-    <qresource prefix="/img">
-        <file>ski-jumper-1.png</file>
-        <file>ski-jumper.png</file>
-        <file>medal.png</file>
-        <file>Crystal_Globe.svg.png</file>
-        <file>help.png</file>
-        <file>database-edit.png</file>
-        <file>settings.png</file>
+    <qresource prefix="/">
+        <file>img/ski-jumper-1.png</file>
+        <file>img/ski-jumper.png</file>
+        <file>img/settings.png</file>
+        <file>img/medal.png</file>
+        <file>img/help.png</file>
+        <file>img/database-edit.png</file>
+        <file>img/Crystal_Globe.svg.png</file>
+        <file>img/pencil.png</file>
+        <file>img/delete.png</file>
     </qresource>
 </RCC>
diff --git a/flaticon_authors b/flaticon_authors
index a2271e9..1b7798d 100644
--- a/flaticon_authors
+++ b/flaticon_authors
@@ -3,3 +3,4 @@ Smashicons
 juicy_fish
 Creatype
 Freepik
+hqrloveq
diff --git a/global/GlobalDatabase.cpp b/global/GlobalDatabase.cpp
new file mode 100644
index 0000000..0976ac0
--- /dev/null
+++ b/global/GlobalDatabase.cpp
@@ -0,0 +1,124 @@
+#include "GlobalDatabase.h"
+
+#include <QFile>
+#include <QByteArray>
+#include <QJsonDocument>
+#include <QJsonObject>
+#include <QJsonValue>
+#include <QJsonParseError>
+#include <QJsonArray>
+
+#include <QMessageBox>
+
+
+GlobalDatabase* GlobalDatabase::m_globalDatabase = nullptr;
+
+GlobalDatabase::GlobalDatabase()
+{
+
+}
+
+GlobalDatabase::~GlobalDatabase()
+{
+}
+
+QVector<Hill> GlobalDatabase::getGlobalHills() const
+{
+    return globalHills;
+}
+
+void GlobalDatabase::setGlobalHills(const QVector<Hill> &newGlobalHills)
+{
+    globalHills = newGlobalHills;
+}
+
+QVector<Jumper> GlobalDatabase::getGlobalJumpers() const
+{
+    return globalJumpers;
+}
+
+void GlobalDatabase::setGlobalJumpers(const QVector<Jumper> &newGlobalJumpers)
+{
+    globalJumpers = newGlobalJumpers;
+}
+
+GlobalDatabase *GlobalDatabase::get()
+{
+    if(m_globalDatabase == nullptr)
+        m_globalDatabase = new GlobalDatabase();
+    return m_globalDatabase;
+}
+
+void GlobalDatabase::removeJumper(int index)
+{
+    globalJumpers.remove(index);
+}
+
+bool GlobalDatabase::loadFromJson()
+{
+    globalJumpers.clear();
+    globalHills.clear();
+
+    if(loadJumpers() == false)
+        return false;
+
+    return true;
+}
+
+bool GlobalDatabase::loadJumpers()
+{
+    QFile file("userData/GlobalDatabase/globalJumpers.json");
+    file.open(QFile::ReadOnly | QFile::Text);
+    QByteArray bytes = file.readAll();
+    file.close();
+
+    QJsonParseError error;
+    QJsonDocument document = QJsonDocument::fromJson(bytes, &error);
+    if(error.error != QJsonParseError::NoError)
+    {
+        QMessageBox message(QMessageBox::Icon::Critical, "Błąd przy wczytytywaniu zawodników", "Nie udało się wczytać zawodników z pliku userData/GlobalDatabase/globalJumpers.json\nTreść błędu: " + error.errorString(), QMessageBox::StandardButton::Ok);
+        message.setModal(true);
+        message.exec();
+        return false;
+    }
+    QJsonObject object = document.object();
+    QJsonValue value = object.value("jumpers");
+    QJsonArray array = value.toArray();
+
+    for(const auto & val : array)
+    {
+        QJsonObject obj = val.toObject();
+        Jumper jumper;
+        jumper.setJumperSkills(new JumperSkills);
+        jumper.setName(obj.value("name").toString());
+        jumper.setSurname(obj.value("surname").toString());
+        jumper.setCountryCode(obj.value("countryCode").toString());
+        jumper.getJumperSkills()->setTakeoffPower(obj.value("takeoff-power").toDouble());
+        jumper.getJumperSkills()->setTakeoffTechnique(obj.value("takeoff-technique").toDouble());
+        jumper.getJumperSkills()->setFlightTechnique(obj.value("flight-technique").toDouble());
+        jumper.getJumperSkills()->setFlightStyle(obj.value("flight-style").toDouble());
+        jumper.getJumperSkills()->setLandingStyle(obj.value("landing-style").toDouble());
+        jumper.getJumperSkills()->setForm(obj.value("form").toDouble());
+
+        QJsonArray characteristicsArray = obj.value("characteristics").toArray();
+        for(const auto & val : characteristicsArray){
+            jumper.getJumperSkills()->insertCharacteristic(val.toObject().value("type").toString(), val.toObject().value("level").toDouble());
+        }
+
+        globalJumpers.push_back(jumper);
+    }
+
+    for(const auto & jp : globalJumpers)
+    {
+        qDebug()<<jp.getNameAndSurname()<<" ("<<jp.getCountryCode()<<")";
+        JumperSkills * jps = jp.getJumperSkills();
+        qDebug()<<jps->getTakeoffPower()<<", "<<jps->getTakeoffTechnique()<<", "<<jps->getFlightTechnique()<<", "<<jps->getFlightStyle()<<", "<<jps->getLandingStyle()<<", "<<jps->getForm();
+        for(const auto & ch : jps->getCharacteristics())
+            qDebug()<<ch.getType()<<", "<<ch.getLevel();
+        qDebug()<<"\n\n";
+    }
+
+    return true;
+}
+
+
diff --git a/global/GlobalDatabase.h b/global/GlobalDatabase.h
new file mode 100644
index 0000000..793d33b
--- /dev/null
+++ b/global/GlobalDatabase.h
@@ -0,0 +1,36 @@
+#ifndef GLOBALDATABASE_H
+#define GLOBALDATABASE_H
+
+#include "../simulator/Jumper.h"
+#include "../simulator/Hill.h"
+
+#include <QVector>
+
+class GlobalDatabase
+{
+private:
+    GlobalDatabase(); 
+    ~GlobalDatabase();
+    static GlobalDatabase * m_globalDatabase;
+
+    QVector<Jumper> globalJumpers;
+    QVector<Hill> globalHills;
+
+    bool loadJumpers();
+    bool loadHills();
+
+public:
+    GlobalDatabase(GlobalDatabase &) = delete;
+    static GlobalDatabase * get();
+
+    void removeJumper(int index);
+
+    bool loadFromJson();
+
+    QVector<Jumper> getGlobalJumpers() const;
+    void setGlobalJumpers(const QVector<Jumper> &newGlobalJumpers);
+    QVector<Hill> getGlobalHills() const;
+    void setGlobalHills(const QVector<Hill> &newGlobalHills);
+};
+
+#endif // GLOBALDATABASE_H
diff --git a/Crystal_Globe.svg.png b/img/Crystal_Globe.svg.png
similarity index 100%
rename from Crystal_Globe.svg.png
rename to img/Crystal_Globe.svg.png
diff --git a/database-edit.png b/img/database-edit.png
similarity index 100%
rename from database-edit.png
rename to img/database-edit.png
diff --git a/img/delete.png b/img/delete.png
new file mode 100644
index 0000000..cce55de
Binary files /dev/null and b/img/delete.png differ
diff --git a/help.png b/img/help.png
similarity index 100%
rename from help.png
rename to img/help.png
diff --git a/medal.png b/img/medal.png
similarity index 100%
rename from medal.png
rename to img/medal.png
diff --git a/img/pencil.png b/img/pencil.png
new file mode 100644
index 0000000..676ff53
Binary files /dev/null and b/img/pencil.png differ
diff --git a/settings.png b/img/settings.png
similarity index 100%
rename from settings.png
rename to img/settings.png
diff --git a/ski-jumper-1.png b/img/ski-jumper-1.png
similarity index 100%
rename from ski-jumper-1.png
rename to img/ski-jumper-1.png
diff --git a/ski-jumper.png b/img/ski-jumper.png
similarity index 100%
rename from ski-jumper.png
rename to img/ski-jumper.png
diff --git a/sj-sim.pro b/sj-sim.pro
index 87d96ba..67ed5d7 100644
--- a/sj-sim.pro
+++ b/sj-sim.pro
@@ -9,6 +9,10 @@ CONFIG += c++17
 #DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0x060000    # disables all the APIs deprecated before Qt 6.0.0
 
 SOURCES += \
+    UI/DatabaseEditor/DatabaseEditorWindow.cpp \
+    UI/DatabaseEditor/DatabaseListItemWidget.cpp \
+    UI/SingleJumps/SingleJumpsConfigWindow.cpp \
+    global/GlobalDatabase.cpp \
     main.cpp \
     UI/mainwindow.cpp \
     simulator/Characteristic.cpp \
@@ -30,7 +34,11 @@ SOURCES += \
     utilities/functions.cpp
 
 HEADERS += \
+    UI/DatabaseEditor/DatabaseEditorWindow.h \
+    UI/DatabaseEditor/DatabaseListItemWidget.h \
+    UI/SingleJumps/SingleJumpsConfigWindow.h \
     UI/mainwindow.h \
+    global/GlobalDatabase.h \
     simulator/Characteristic.h \
     simulator/ConditionsInfo.h \
     simulator/Hill.h \
@@ -50,6 +58,9 @@ HEADERS += \
     utilities/functions.h
 
 FORMS += \
+    UI/DatabaseEditor/DatabaseEditorWindow.ui \
+    UI/DatabaseEditor/DatabaseListItemWidget.ui \
+    UI/SingleJumps/SingleJumpsConfigWindow.ui \
     UI/mainwindow.ui
 
 # Default rules for deployment.
@@ -57,8 +68,15 @@ qnx: target.path = /tmp/$${TARGET}/bin
 else: unix:!android: target.path = /opt/$${TARGET}/bin
 !isEmpty(target.path): INSTALLS += target
 
+copydata.commands = $(COPY_DIR) $$PWD/userData $$OUT_PWD
+first.depends = $(first) copydata
+export(first.depends)
+export(copydata.commands)
+QMAKE_EXTRA_TARGETS += first copydata
+
 DISTFILES += \
-    flaticon_authors
+    flaticon_authors \
+    userData/GlobalDatabase/globalJumpers.json
 
 RESOURCES += \
     assets.qrc
diff --git a/sj-sim.pro.user b/sj-sim.pro.user
index abbf07d..7b99e80 100644
--- a/sj-sim.pro.user
+++ b/sj-sim.pro.user
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE QtCreatorProject>
-<!-- Written by QtCreator 9.0.1, 2023-02-17T17:49:59. -->
+<!-- Written by QtCreator 9.0.1, 2023-02-18T11:40:04. -->
 <qtcreator>
  <data>
   <variable>EnvironmentId</variable>
diff --git a/userData/GlobalDatabase/globalJumpers.json b/userData/GlobalDatabase/globalJumpers.json
new file mode 100644
index 0000000..33fadd4
--- /dev/null
+++ b/userData/GlobalDatabase/globalJumpers.json
@@ -0,0 +1,66 @@
+{
+"jumpers":[{
+"name": "Markus",
+"surname": "Eisenbichler",
+"countryCode": "GER",
+"takeoff-power": 42,
+"takeoff-technique": 43.5,
+"flight-technique": 46,
+"flight-style": 2,
+"landing-style": 12,
+"form": 35,
+"characteristics":[
+{
+"type": "takeoff-height",
+"level": -0.45
+},
+{
+"type": "flight-height",
+"level": -0.45
+}
+]
+},
+{
+"name": "Constantin",
+"surname": "Schmid",
+"countryCode": "GER",
+"takeoff-power": 47,
+"takeoff-technique": 42.5,
+"flight-technique": 35,
+"flight-style": 1,
+"landing-style": 13,
+"form": 34,
+"characteristics":[
+{
+"type": "takeoff-height",
+"level": 2.5
+},
+{
+"type": "flight-height",
+"level": 2.2
+}
+]
+},
+{
+"name": "Paweł",
+"surname": "Wąsek",
+"countryCode": "POL",
+"takeoff-power": 42.25,
+"takeoff-technique": 40,
+"flight-technique": 35,
+"flight-style": 1,
+"landing-style": 12.7,
+"form": 32,
+"characteristics":[
+{
+"type": "takeoff-height",
+"level": 0.25
+},
+{
+"type": "flight-height",
+"level": 0.45
+}
+]
+}
+]
+}
diff --git a/utilities/ClassWithCharacteristics.cpp b/utilities/ClassWithCharacteristics.cpp
index b60bb45..7bd1b75 100644
--- a/utilities/ClassWithCharacteristics.cpp
+++ b/utilities/ClassWithCharacteristics.cpp
@@ -26,7 +26,7 @@ void ClassWithCharacteristics::insertCharacteristic(const Characteristic &charac
     characteristics.insert(characteristic);
 }
 
-void ClassWithCharacteristics::insertCharacteristic(const QString &type, short level)
+void ClassWithCharacteristics::insertCharacteristic(const QString &type, double level)
 {
     characteristics.insert(Characteristic(level, type));
 }
@@ -41,7 +41,7 @@ void ClassWithCharacteristics::removeCharacteristic(const QString &type)
     characteristics.remove(Characteristic(0, type));
 }
 
-short ClassWithCharacteristics::getLevelOfCharacteristic(const QString &characteristicType)
+double ClassWithCharacteristics::getLevelOfCharacteristic(const QString &characteristicType)
 {
     for(QSet<Characteristic>::iterator it = characteristics.begin(); it != characteristics.end(); it++)
     {
diff --git a/utilities/ClassWithCharacteristics.h b/utilities/ClassWithCharacteristics.h
index d8f4d0d..436139e 100644
--- a/utilities/ClassWithCharacteristics.h
+++ b/utilities/ClassWithCharacteristics.h
@@ -15,11 +15,11 @@ public:
     ClassWithCharacteristics();
 
     void insertCharacteristic(const Characteristic & characteristic);
-    void insertCharacteristic( const QString & type, short level);
+    void insertCharacteristic(const QString & type, double level);
     void removeCharacteristic(const Characteristic & characteristic);
     void removeCharacteristic(const QString & type);
     bool characteristicsContains(const QString & type);
-    short getLevelOfCharacteristic(const QString & characteristicType);
+    double getLevelOfCharacteristic(const QString & characteristicType);
     QSet<Characteristic> getCharacteristics() const;
     void setCharacteristics(const QSet<Characteristic> &newCharacteristics);
 };
